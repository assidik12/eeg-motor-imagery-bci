version: "3.8"

services:
  api:
    image: ghcr.io/assidik12/eeg-motor-imagery-bci:${DOCKER_IMAGE_TAG:-latest}
    build: .
    ports:
      - "8000:8000"

    # --- PERBAIKANNYA DI SINI ---

    # 1. Atur working directory ke /app/src
    #    (Dockerfile kita menempatkan folder 'src' di /app/src)
    working_dir: /app/src

    # 2. Sekarang jalankan 'python api.py' DARI DALAM /app/src
    #    Ini akan memperbaiki semua masalah relative path.
    command: ["python", "api.py"]
